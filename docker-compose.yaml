version: "3.9"

services:
  chekhovagent:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: chekhovagent
    env_file:
      - .env
    environment:
      TELEGRAM_BOT_TOKEN: "${TELEGRAM_BOT_TOKEN}"
      GOOGLE_SERVICE_ACCOUNT_JSON: "${GOOGLE_SERVICE_ACCOUNT_JSON}"
      GOOGLE_SHEETS_SPREADSHEET_ID: "${GOOGLE_SHEETS_SPREADSHEET_ID}"
      DEEPSEEK_API_KEY: "${DEEPSEEK_API_KEY}"
      DEEPSEEK_BASE_URL: "${DEEPSEEK_BASE_URL}"
      USE_MOCK_LLM: "${USE_MOCK_LLM}"
    volumes:
      - .:/app  # Монтируем проект для локальной разработки
    command: python -m app.main